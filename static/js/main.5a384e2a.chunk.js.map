{"version":3,"sources":["auth/authic.js","account/login.js","account/signup.js","app.js","index.js"],"names":["createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","req","json","useAuth","authFetch","login","logout","Login","useState","username","setUsername","password","setPassword","action","type","value","placeholder","name","onChange","e","target","onClick","preventDefault","detail","headers","JSON","stringify","console","log","Signup","buildUsername","email","buildEmail","buildPassword","preventDeafault","details","App","title","titleCard","res","data","get","logged","IdentityCheck","message","setMessage","useEffect","status","ReactDom","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a384e2a.chunk.js","sourcesContent":["import {createAuthProvider} from 'react-token-auth'\r\n\r\nexport const [useAuth, authFetch, login, logout] = \r\n    createAuthProvider({\r\n        accessTokenKey: 'access_token',\r\n        onUpdateToken: (token) => fetch('http://127.0.0.1:5000/user/refresh', {\r\n            method: \"POST\",\r\n            body: token.access_token\r\n        })\r\n            .then(req => req.json())\r\n    })","import React, { useState } from 'react'\r\nimport { login } from '../auth/authic'\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const handleUsernameChange = (e) => {\r\n    setUsername(e.target.value)\r\n  }\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  const onSubmitClick = (e) => {\r\n    e.preventDefault()\r\n    let detail = {\r\n      'username': username,\r\n      'password': password\r\n    }\r\n    fetch('http://127.0.0.1:5000/user/login', {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json' \r\n      },\r\n      body: JSON.stringify(detail)\r\n    })\r\n      .then(req => req.json())\r\n      .then(token => {\r\n        if (token.access_token) {\r\n          login(token)\r\n          console.log(token)\r\n        } else {\r\n          console.log(\"Wrong USERNAME/PASSWORD\")\r\n        }\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form action='#'>\r\n        <h3>Login</h3>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={username}\r\n            placeholder=\"Username\"\r\n            name=\"username\"\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button onClick={onSubmitClick} type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import React, {useState} from 'react'\r\n//import Login from \"./login\"\r\n\r\nexport default function Signup() {\r\n  //const preEnter = Login.onSubmitClick()\r\n\r\n  const [username, buildUsername] = useState('')\r\n  const [email, buildEmail] = useState('')\r\n  const [password, buildPassword] = useState('')\r\n\r\n  const handleUsername = (e) => {\r\n    buildUsername(e.target.value)\r\n  }\r\n  const handleEmail = (e) => {\r\n    buildEmail(e.target.value)\r\n  }\r\n  const handlePassword = (e) => {\r\n    buildPassword(e.target.value)\r\n  }\r\n  const onSubmitProfile = (e) => {\r\n    e.preventDeafault()\r\n    console.log(\"Sign up\")\r\n    let details = {\r\n      \"username\": username,\r\n      \"email\": email,\r\n      \"password\": password\r\n    }\r\n    fetch('http://127.0.0.1:5000/user/signup', {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json' \r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n      .then(req => req.json())\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Signup</h3>\r\n      <form action='#'>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={username}\r\n            name=\"username\"\r\n            onChange={handleUsername}\r\n            placeholder=\"Username\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={email}\r\n            name=\"email\"\r\n            onChange={handleEmail}\r\n            placeholder=\"Email\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={password}\r\n            name=\"password\"\r\n            onChange={handlePassword}\r\n            placeholder=\"Password\"\r\n          />\r\n        </div>\r\n        <button onClick={onSubmitProfile}>Sign-up</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","///Either use http://127.0.0.1:5000/ or https://dollardream.herokuapp.com/ for Post\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport { authFetch, useAuth, logout } from './auth/authic'\r\nimport Login from './account/login'\r\nimport Signup from './account/signup'\r\nexport default function App() {\r\n    const [title, titleCard] = useState('')\r\n\r\n    fetch('https://dollardream.herokuapp.com/')\r\n        .then(res => res.json())\r\n        .then(data => titleCard(data.get))\r\n    \r\n    const [logged] = useAuth()\r\n\r\n    return (\r\n        <div>\r\n            <h1>{title}</h1>\r\n            <div>\r\n                <Signup />\r\n                {!logged? <Login />: <button onClick={()=> logout()}>LogOut</button>}\r\n            </div>\r\n            <IdentityCheck />\r\n            <p>World is Peace</p>\r\n        </div>\r\n    )\r\n    function IdentityCheck() {\r\n        const [message, setMessage] = useState('')\r\n\r\n        useEffect(() => {\r\n            authFetch('http://127.0.0.1:5000/user/protect')\r\n                .then(res => {\r\n                    if (res.status === 500) {\r\n                        setMessage(\"Welcome Stanger, please Log in\")\r\n                        return null\r\n                    }\r\n                    return res.json()\r\n                })\r\n                .then(res => {\r\n                    if (res && res.message) {\r\n                        setMessage(res.message)\r\n                    }\r\n                })\r\n        }, [])\r\n        return(\r\n            <h5>{message}</h5>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDom.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}