{"version":3,"sources":["auth/authic.js","account/login.js","account/signup.js","main/bloginput.js","main/blogresults.js","app.js","index.js"],"names":["createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","req","json","useAuth","authFetch","login","logout","Login","setToken","useState","username","setUsername","password","setPassword","className","action","type","value","placeholder","name","onChange","e","target","onClick","preventDefault","detail","headers","JSON","stringify","console","log","Signup","email","setEmail","details","catch","err","error","Inputblogs","blogMessage","setBlog","inputLogged","blogDetail","window","location","reload","BlogMaps","props","displayBlogs","blogs","map","row","added_by","blog","id","UpdateBlogRow","state","loading","bind","res","setState","currentTarget","this","getBlogs","Component","App","title","titleCard","data","get","logged","IdentityCheck","message","setMessage","useEffect","status","ReactDom","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.834bd455.chunk.js","sourcesContent":["import {createAuthProvider} from 'react-token-auth'\r\n\r\nexport const [useAuth, authFetch, login, logout] = \r\n    createAuthProvider({\r\n        accessTokenKey: 'access_token',\r\n        onUpdateToken: (token) => fetch('http://127.0.0.1:5000/user/refresh', {\r\n            method: \"POST\",\r\n            body: token.access_token\r\n        })\r\n            .then(req => req.json())\r\n    })","import React, { useState } from 'react'\r\nimport { login } from '../auth/authic'\r\n\r\nexport default function Login({setToken}) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const handleUsernameChange = (e) => {\r\n    setUsername(e.target.value)\r\n  }\r\n  const handlePasswordChange = (e) => {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  const onSubmitClick = (e) => {\r\n    e.preventDefault()\r\n    let detail = {\r\n      'username': username,\r\n      'password': password\r\n    }\r\n    fetch('http://127.0.0.1:5000/user/login', {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json' \r\n      },\r\n      body: JSON.stringify(detail)\r\n    })\r\n      .then(req => req.json())\r\n      .then(token => {\r\n        if (token.access_token) {\r\n          login(token)\r\n          console.log(token)\r\n          setToken(token.access_token)\r\n        } else {\r\n          console.log(\"Wrong USERNAME/PASSWORD\")\r\n        }\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Login</h3>\r\n      <form className=\"NavItemDropContent\" action='#'>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={username}\r\n            placeholder=\"Username\"\r\n            name=\"username\"\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            value={password}\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button onClick={onSubmitClick} type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react'\r\n\r\nexport default function Signup() {\r\n\r\n  const [username, setUsername] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value)\r\n  }\r\n  const handleEmail = (e) => {\r\n    setEmail(e.target.value)\r\n  }\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value)\r\n  }\r\n\r\n  const onSubmitProfile = (e) => {\r\n    e.preventDefault()\r\n    console.log(\"Sign up\")\r\n    let details = {\r\n      \"username\": username,\r\n      \"email\": email,\r\n      \"password\": password\r\n    }\r\n    fetch('http://127.0.0.1:5000/user/signup', {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json' \r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n      .then(req => req.json())\r\n      .catch(err => console.error(err))\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Signup</h3>\r\n      <form action='#' className=\"NavItemDropContent\">\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={username}\r\n            name=\"username\"\r\n            onChange={handleUsername}\r\n            placeholder=\"Username\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={email}\r\n            name=\"email\"\r\n            onChange={handleEmail}\r\n            placeholder=\"Email\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"text\"\r\n            value={password}\r\n            name=\"password\"\r\n            onChange={handlePassword}\r\n            placeholder=\"Password\"\r\n          />\r\n        </div>\r\n        <button onClick={onSubmitProfile}>Sign-up</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react'\r\nimport {useAuth} from '../auth/authic'\r\n\r\nexport default function Inputblogs({token}){\r\n\r\n  const [blogMessage, setBlog] = useState('')\r\n\r\n  const handleBlogChange = (e) => {\r\n    setBlog(e.target.value)\r\n  }\r\n\r\n  const onBlogSubmitClick = (e) => {\r\n    e.preventDefault()\r\n    let blogDetail = {\"blog\": blogMessage}\r\n    fetch(\"http://127.0.0.1:5000/blog/public\", {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n        'Accept': 'application/json' \r\n      },\r\n      body: JSON.stringify(blogDetail)\r\n    })\r\n    .then(req => req.json())\r\n    /// Make it where the blogs gets reloaded every time it clicks submit in react or python\r\n    window.location.reload(false)\r\n  }\r\n\r\n  const [inputLogged] = useAuth()\r\n  return (\r\n    <div>\r\n      <h4>bloglines</h4>\r\n      {!inputLogged? \r\n        <h5>Please Log in to send a message...</h5>:\r\n        <form action='#'>\r\n          <div>\r\n          <input \r\n            type=\"text\"\r\n            value={blogMessage}\r\n            placeholder=\"Type whatever its in your mind...\"\r\n            name=\"blogMessage\"\r\n            onChange={handleBlogChange}\r\n          />\r\n          </div>\r\n          <button onClick={onBlogSubmitClick} type=\"submit\">Enter</button>\r\n        </form>}\r\n    </div>\r\n  )\r\n}","import React, {Component} from 'react'\r\n\r\nclass BlogMaps extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      blogs: [],\r\n      loading: true\r\n    }\r\n    this.UpdateBlogRow = this.UpdateBlogRow.bind(this)\r\n  }\r\n  getBlogs() {\r\n    fetch(\"http://127.0.0.1:5000/blog/public\")\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        this.setState({\r\n          blogs: json,\r\n          loading: false\r\n        })\r\n      })\r\n  }\r\n  UpdateBlogRow(e) {\r\n    console.log(e.currentTarget.value)\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getBlogs();\r\n  }\r\n\r\n  displayBlogs = (blogs) => {\r\n    return(\r\n      blogs.map(row => \r\n        <div key={row.id} className=\"blogRow\">\r\n          <h5 className='blog_head'>{row.added_by}</h5>\r\n          <p className='blog_blog'>{row.blog}</p>\r\n          <button value={row.id} onClick={this.UpdateBlogRow} className=\"blog_button\">Edit</button>\r\n          <button className=\"blog_button\">Remove</button>\r\n        </div>  \r\n      )\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        {this.state.loading? <h5>Loading</h5> : this.displayBlogs(this.state.blogs)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BlogMaps;","///Either use http://127.0.0.1:5000/ or https://dollardream.herokuapp.com/ for Post\r\nimport React, { useState, useEffect } from 'react'\r\nimport { authFetch, useAuth, logout } from './auth/authic'\r\nimport './app.css'\r\nimport Login from './account/login'\r\nimport Signup from './account/signup'\r\nimport Inputblogs from './main/bloginput'\r\nimport BlogMaps from './main/blogresults'\r\n\r\nexport default function App() {\r\n    const [title, titleCard] = useState('')\r\n    const [token, setToken] = useState();\r\n\r\n    fetch('https://dollardream.herokuapp.com/')\r\n        .then(res => res.json())\r\n        .then(data => titleCard(data.get))\r\n\r\n    const [logged] = useAuth()\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <h1 className=\"titleStyle\">{title}</h1>\r\n            <ul className=\"NavBar\">\r\n                <li className=\"NavItem\"><Signup /></li>\r\n                <li className=\"NavItem\">{!logged? <Login setToken={setToken}/>: <button className='lgButton' onClick={()=> logout()}>LogOut</button>}</li>\r\n                <li className=\"NavItem\"><IdentityCheck /></li>\r\n            </ul>\r\n            <div className=\"blogMain\">\r\n                <Inputblogs token={token}/>\r\n                <BlogMaps />\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function IdentityCheck() {\r\n        const [message, setMessage] = useState('')\r\n        useEffect(() => {\r\n            authFetch('http://127.0.0.1:5000/user/protect')\r\n                .then(res => {\r\n                    if (res.status === 422) {\r\n                        setMessage(\"Welcome Stanger, please Log in\")\r\n                        return null\r\n                    }\r\n                    return res.json()\r\n                })\r\n                .then(res => {\r\n                    if (res && res.message) {\r\n                        setMessage(res.message)\r\n                    }\r\n                })\r\n        }, [])\r\n        return(\r\n            <h5>{message}</h5>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './app';\r\n\r\nReactDom.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}